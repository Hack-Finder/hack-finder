{"ast":null,"code":"import _classCallCheck from\"/Users/florianposchlod/iron-hack/hackathon-finder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/florianposchlod/iron-hack/hackathon-finder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/florianposchlod/iron-hack/hackathon-finder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/florianposchlod/iron-hack/hackathon-finder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{getEventsByCreator,deleteEvent}from'../services/event';import{Link}from'react-router-dom';import EventItem from'./EventItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserProfile=/*#__PURE__*/function(_Component){_inherits(UserProfile,_Component);var _super=_createSuper(UserProfile);function UserProfile(){var _this;_classCallCheck(this,UserProfile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={events:null};_this.deleteEventHandler=function(event){var eventId=event.target.id;console.log(event.target.id);deleteEvent(eventId).then(function(response){console.log(response);_this.componentDidMount();});};return _this;}_createClass(UserProfile,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var creatorId=this.props.user._id;getEventsByCreator(creatorId).then(function(events){_this2.setState({events:events});});}},{key:\"render\",value:function render(){var _this3=this;if(this.state.users===null)return/*#__PURE__*/_jsx(\"h3\",{children:\"Loading...\"});console.log(this.state.events);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-xl  m-20 sm:rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center px-4 py-5 sm:px-6 \",children:[/*#__PURE__*/_jsx(\"span\",{class:\"mb-6 mt-8 inline-block h-28 w-28 rounded-full overflow-hidden bg-gray-100\",children:/*#__PURE__*/_jsx(\"svg\",{class:\"h-full w-full text-gray-300\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z\"})})}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl leading-6 p-3 font-extrabold text-gray-900\",children:[\"Hello, \",this.props.user.username,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 max-w-2xl text-sm p-3 text-gray-500\",children:this.props.user.email}),/*#__PURE__*/_jsxs(\"div\",{class:\"flex flex-wrap justify-starts items-center mt-6\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"text-xs mb-2 mr-2 py-1.5 px-4 text-gray-600 bg-yellow-200 rounded-2xl\",children:\"#tech\"}),/*#__PURE__*/_jsx(\"div\",{class:\"text-xs mb-2 mr-2 py-1.5 px-4 text-gray-600 bg-yellow-200 rounded-2xl\",children:\"#food\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:\"About me\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1\",children:[/*#__PURE__*/_jsx(\"p\",{children:this.props.user.description}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"www.thesmile.com\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-auto justify-center flex-col px-4 py-5 sm:px-6 \",children:/*#__PURE__*/_jsxs(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:[this.props.user.username,\"'s events\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your events\"}),this.state.events===null?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"div\",{children:this.state.events.map(function(event){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(EventItem,{event:event}),/*#__PURE__*/_jsx(Link,{to:\"/event/edit/\".concat(event._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:_this3.deleteEventHandler,id:event._id,children:\"Delete\"})]});})})]})]});}}]);return UserProfile;}(Component);export{UserProfile as default};","map":{"version":3,"sources":["/Users/florianposchlod/iron-hack/hackathon-finder/client/src/components/UserProfile.js"],"names":["React","Component","getEventsByCreator","deleteEvent","Link","EventItem","UserProfile","state","events","deleteEventHandler","event","eventId","target","id","console","log","then","response","componentDidMount","creatorId","props","user","_id","setState","users","username","email","description","map"],"mappings":"4qBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,kBAAT,CAA6BC,WAA7B,KAAgD,mBAAhD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,2FAEqBC,CAAAA,W,+UAEnBC,K,CAAQ,CACNC,MAAM,CAAE,IADF,C,OAYRC,kB,CAAqB,SAACC,KAAD,CAAW,CAC9B,GAAMC,CAAAA,OAAO,CAAGD,KAAK,CAACE,MAAN,CAAaC,EAA7B,CACAC,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACE,MAAN,CAAaC,EAAzB,EACAV,WAAW,CAACQ,OAAD,CAAX,CAAqBK,IAArB,CAA0B,SAAAC,QAAQ,CAAI,CACpCH,OAAO,CAACC,GAAR,CAAYE,QAAZ,EACA,MAAKC,iBAAL,GACD,CAHD,EAID,C,wEAfD,4BAAoB,iBAClB,GAAMC,CAAAA,SAAS,CAAG,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,GAAlC,CAEApB,kBAAkB,CAACiB,SAAD,CAAlB,CAA8BH,IAA9B,CAAmC,SAAAR,MAAM,CAAI,CAC3C,MAAI,CAACe,QAAL,CAAc,CAAEf,MAAM,CAAEA,MAAV,CAAd,EACD,CAFD,EAGD,C,sBAWD,iBAAS,iBACP,GAAI,KAAKD,KAAL,CAAWiB,KAAX,GAAqB,IAAzB,CAA+B,mBAAO,kCAAP,CAE/BV,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWC,MAAvB,EAEA,mBAEE,aAAK,SAAS,CAAC,wCAAf,wBAEE,aAAK,SAAS,CAAC,+CAAf,wBAEE,aAAM,KAAK,CAAC,2EAAZ,uBACE,YAAK,KAAK,CAAC,6BAAX,CAAyC,IAAI,CAAC,cAA9C,CAA6D,OAAO,CAAC,WAArE,uBACE,aAAM,CAAC,CAAC,4HAAR,EADF,EADF,EAFF,cAQE,YAAI,SAAS,CAAC,qDAAd,qBAA4E,KAAKY,KAAL,CAAWC,IAAX,CAAgBI,QAA5F,OARF,cASE,UAAG,SAAS,CAAC,0CAAb,UAAyD,KAAKL,KAAL,CAAWC,IAAX,CAAgBK,KAAzE,EATF,cAWE,aAAK,KAAK,CAAC,iDAAX,wBACE,YAAK,KAAK,CAAC,uEAAX,mBADF,cAIE,YAAK,KAAK,CAAC,uEAAX,mBAJF,GAXF,cAoBE,aAAK,SAAS,CAAC,8DAAf,wBACE,WAAI,SAAS,CAAC,mCAAd,sBADF,cAIE,YAAI,SAAS,CAAC,kDAAd,wBACE,mBAAI,KAAKN,KAAL,CAAWC,IAAX,CAAgBM,WAApB,EADF,cAEE,aAFF,cAGE,aAAM,SAAS,CAAC,WAAhB,8BAHF,GAJF,GApBF,cAiCE,YAAK,SAAS,CAAC,sDAAf,uBACE,YAAI,SAAS,CAAC,mCAAd,WACG,KAAKP,KAAL,CAAWC,IAAX,CAAgBI,QADnB,eADF,EAjCF,GAFF,cA0CE,oCACE,mCADF,CAGI,KAAKlB,KAAL,CAAWC,MAAX,GAAsB,IAAvB,cAA+B,kCAA/B,cAEC,qBACG,KAAKD,KAAL,CAAWC,MAAX,CAAkBoB,GAAlB,CAAsB,SAAAlB,KAAK,CAAI,CAC9B,mBACE,oCACE,KAAC,SAAD,EAAW,KAAK,CAAEA,KAAlB,EADF,cAEE,KAAC,IAAD,EAAM,EAAE,uBAAiBA,KAAK,CAACY,GAAvB,CAAR,kBAFF,cAGE,eAAQ,OAAO,CAAE,MAAI,CAACb,kBAAtB,CAA0C,EAAE,CAAEC,KAAK,CAACY,GAApD,oBAHF,GADF,CAOD,CARA,CADH,EALJ,GA1CF,GAFF,CAgED,C,yBA5FsCrB,S,SAApBK,W","sourcesContent":["import React, { Component } from 'react';\nimport { getEventsByCreator, deleteEvent } from '../services/event';\nimport { Link } from 'react-router-dom';\nimport EventItem from './EventItem';\n\nexport default class UserProfile extends Component {\n\n  state = {\n    events: null\n  }\n\n  componentDidMount() {\n    const creatorId = this.props.user._id;\n\n    getEventsByCreator(creatorId).then(events => {\n      this.setState({ events: events })\n    });\n  }\n\n  deleteEventHandler = (event) => {\n    const eventId = event.target.id\n    console.log(event.target.id)\n    deleteEvent(eventId).then(response => {\n      console.log(response)\n      this.componentDidMount()\n    })\n  }\n\n  render() {\n    if (this.state.users === null) return <h3>Loading...</h3>\n\n    console.log(this.state.events)\n\n    return (\n\n      <div className=\"bg-white shadow-xl  m-20 sm:rounded-lg\">\n\n        <div className=\"flex flex-col items-center px-4 py-5 sm:px-6 \">\n          {/* <img src={this.props.user.username} alt=\"User\" /> */}\n          <span class=\"mb-6 mt-8 inline-block h-28 w-28 rounded-full overflow-hidden bg-gray-100\">\n            <svg class=\"h-full w-full text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z\"></path>\n            </svg>\n          </span>\n\n          <h2 className=\"text-3xl leading-6 p-3 font-extrabold text-gray-900\">Hello, {this.props.user.username}!</h2>\n          <p className=\"mt-1 max-w-2xl text-sm p-3 text-gray-500\">{this.props.user.email}</p>\n\n          <div class=\"flex flex-wrap justify-starts items-center mt-6\">\n            <div class=\"text-xs mb-2 mr-2 py-1.5 px-4 text-gray-600 bg-yellow-200 rounded-2xl\">\n              #tech\n                </div>\n            <div class=\"text-xs mb-2 mr-2 py-1.5 px-4 text-gray-600 bg-yellow-200 rounded-2xl\">\n              #food\n                </div>\n          </div>\n\n          <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n            <dt className=\"text-sm font-medium text-gray-500\">\n              About me\n                        </dt>\n            <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1\">\n              <p>{this.props.user.description}</p>\n              <br />\n              <span className=\"font-bold\">www.thesmile.com</span>\n            </dd>\n          </div>\n\n\n\n          <div className=\"flex-auto justify-center flex-col px-4 py-5 sm:px-6 \">\n            <dt className=\"text-sm font-medium text-gray-500\">\n              {this.props.user.username}'s events\n                                    </dt>\n          </div>\n\n        </div>\n        <div>\n          <h2>Your events</h2>\n\n          {(this.state.events === null) ? <h2>Loading...</h2> :\n\n            <div>\n              {this.state.events.map(event => {\n                return (\n                  <div>\n                    <EventItem event={event} />\n                    <Link to={`/event/edit/${event._id}`}>Edit</Link>\n                    <button onClick={this.deleteEventHandler} id={event._id}>Delete</button>\n                  </div>\n                )\n              })}\n            </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}